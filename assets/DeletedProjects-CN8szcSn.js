import{M as S,a as N,b as P}from"./Sidebar-D3P4OYCI.js";import{_ as $}from"./DarkModeToggle-D2JH1pUy.js";import{r as o,o as I,c as n,d as p,a as t,b as y,n as b,j as M,F as D,k as J,l as v,u as O,g as i,t as f}from"./index-q2CqRh11.js";const V={class:"flex flex-col md:flex-row min-h-screen relative"},B={class:"p-4",dir:"rtl"},z={class:"overflow-x-auto max-w-full mt-4 bg-white dark:bg-gray-800 p-2 rounded-lg shadow-lg"},F={class:"min-w-[700px] w-full table-fixed text-sm md:text-base text-right border-collapse border border-gray-300 dark:border-gray-600"},T={class:"px-2 py-4 text-center"},E={class:"px-2 py-4 break-words"},H={class:"px-2 py-4 break-words"},L={class:"px-2 py-1 flex flex-row-reverse gap-2 justify-end"},R=["onClick"],q=["onClick"],A={key:0},G={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50"},K={class:"bg-white dark:bg-gray-700 rounded p-6 max-w-sm w-full shadow-lg text-right",dir:"rtl"},Q={class:"flex justify-end gap-4"},Z={__name:"DeletedProjects",setup(U){const w=O(),x=o([]),l=o(!1),a=o(!1),d=o(!1),u=o(null);I(()=>{g()});function g(){const r=localStorage.getItem("projects");if(r){const e=JSON.parse(r);x.value=e.filter(s=>s.deleted)}}function k(r){const e=localStorage.getItem("projects");if(!e)return;const s=JSON.parse(e),c=s.findIndex(m=>m.id===r);c!==-1&&(s[c].deleted=!1,localStorage.setItem("projects",JSON.stringify(s)),g())}function h(r){u.value=r,d.value=!0}function _(){if(!u.value)return;const r=localStorage.getItem("projects");if(!r)return;let e=JSON.parse(r);e=e.filter(s=>s.id!==u.value),localStorage.setItem("projects",JSON.stringify(e)),g(),d.value=!1,u.value=null}function j(r){switch(r){case"مكتمل":return"text-green-600";case"جاري التنفيذ":return"text-yellow-600";case"متأخر":return"text-red-600";case"تحت المراجعة":return"text-blue-600";default:return"text-gray-600"}}function C(){w.push("/projects")}return(r,e)=>(i(),n("div",V,[p(S,{onToggleMenu:e[0]||(e[0]=s=>a.value=!a.value)}),p(N,{show:a.value},null,8,["show"]),p(P,{class:b(["hidden md:block",{"w-64":l.value,"w-20":!l.value}]),onMouseenter:e[1]||(e[1]=s=>l.value=!0),onMouseleave:e[2]||(e[2]=s=>l.value=!1)},null,8,["class"]),t("main",{id:"mainContent",class:b(["flex-1 p-4 pt-24 md:pt-2 transition-all duration-500 overflow-auto text-gray-900 dark:text-gray-100",{"opacity-50 pointer-events-none":a.value,"mr-0":a.value,"md:mr-48":l.value&&!a.value,"md:mr-20":!l.value&&!a.value}])},[t("div",B,[e[9]||(e[9]=M('<div class="bg-white dark:bg-gray-800 p-4 rounded shadow mb-6 transition-colors duration-500 flex items-end justify-between"><div class="text-right flex-1"><h1 class="text-2xl font-bold"> المشاريع المحذوفة</h1><p class="text-sm text-gray-500 dark:text-gray-400">هنا يمكنك استعادة أو حذف المشاريع نهائيًا</p></div><div class="flex-shrink-0 ml-4"><img src="https://i.pravatar.cc/100?img=13" alt="صورة المستخدم" class="w-12 h-12 rounded-full object-cover border-2 border-primary"></div></div>',1)),t("div",z,[t("table",F,[e[7]||(e[7]=t("thead",null,[t("tr",{class:"bg-primary text-white text-sm"},[t("th",{class:"px-2 py-1 w-8"},"#"),t("th",{class:"px-2 py-4 whitespace-nowrap break-words"},"اسم المشروع"),t("th",{class:"px-2 py-4 whitespace-nowrap break-words"},"مدير المشروع"),t("th",{class:"px-2 py-4 whitespace-nowrap break-words"},"الحالة"),t("th",{class:"px-2 py-4 whitespace-nowrap break-words"},"إجراءات")])],-1)),t("tbody",null,[(i(!0),n(D,null,J(x.value,(s,c)=>(i(),n("tr",{key:s.id,class:"border-b border-gray-300 dark:border-gray-700"},[t("td",T,f(c+1),1),t("td",E,f(s.name),1),t("td",H,f(s.manager),1),t("td",{class:b(["px-2 py-4 break-words",j(s.status)])},f(s.status),3),t("td",L,[t("button",{onClick:m=>k(s.id),class:"hover:bg-green-700 text-green-600 px-3 py-4 rounded transition flex items-center gap-2",title:"استعادة المشروع"},e[4]||(e[4]=[t("i",{class:"fa-solid fa-rotate-left"},null,-1)]),8,R),t("button",{onClick:m=>h(s.id),class:"hover:bg-red-700 text-red-700 px-3 py-4 rounded transition flex items-center gap-2",title:"حذف نهائي"},e[5]||(e[5]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,q)])]))),128)),x.value.length===0?(i(),n("tr",A,e[6]||(e[6]=[t("td",{colspan:"5",class:"text-center py-4 text-gray-500 dark:text-gray-400"}," لا توجد مشاريع محذوفة ",-1)]))):y("",!0)])])]),t("div",{class:"flex justify-start mt-6"},[t("button",{onClick:C,class:"bg-primary text-white px-4 py-2 rounded hover:bg-primary-dark transition flex items-center gap-2"},e[8]||(e[8]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),v(" العودة إلى المشاريع ",-1)]))])])],2),p($),d.value?(i(),n("div",G,[t("div",K,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold mb-4"},"تأكيد الحذف النهائي",-1)),e[13]||(e[13]=t("p",{class:"mb-6"},"هل أنت متأكد من حذف المشروع نهائيًا؟ لن يمكنك استعادته بعد الحذف.",-1)),t("div",Q,[t("button",{onClick:e[3]||(e[3]=s=>d.value=!1),class:"px-4 py-2 rounded border border-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition flex items-center gap-2"},e[10]||(e[10]=[t("i",{class:"fa-solid fa-xmark"},null,-1),v(" إلغاء ",-1)])),t("button",{onClick:_,class:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 transition flex items-center gap-2"},e[11]||(e[11]=[t("i",{class:"fa-solid fa-trash"},null,-1),v(" حذف نهائي ",-1)]))])])])):y("",!0)]))}};export{Z as default};
